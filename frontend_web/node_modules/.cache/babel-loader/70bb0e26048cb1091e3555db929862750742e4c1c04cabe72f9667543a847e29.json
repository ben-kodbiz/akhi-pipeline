{"ast":null,"code":"var _jsxFileName = \"/data/work/dev/akhi_data_builder/frontend_web/src/pages/Dashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { getStatus, downloadVideos, transcribeVideos, generateJson, resetData, getTranscriptionStatus, getJsonGenerationStatus } from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Dashboard() {\n  _s();\n  const [status, setStatus] = useState({\n    clips: 0,\n    transcripts: 0,\n    json_exists: false,\n    json_count: 0\n  });\n  const [loading, setLoading] = useState(true);\n  const [message, setMessage] = useState('');\n  const [videoLinks, setVideoLinks] = useState('');\n  const [transcriptionStatus, setTranscriptionStatus] = useState({\n    is_running: false,\n    current_file: null,\n    progress: 0,\n    total_files: 0,\n    completed_files: 0,\n    error: null,\n    last_updated: null\n  });\n  const [jsonGenerationStatus, setJsonGenerationStatus] = useState({\n    is_running: false,\n    current_step: null,\n    progress: 0,\n    total_files: 0,\n    processed_files: 0,\n    error: null,\n    last_updated: null\n  });\n  const [processing, setProcessing] = useState({\n    download: false,\n    transcribe: false,\n    json: false,\n    reset: false\n  });\n  useEffect(() => {\n    fetchStatus();\n  }, []);\n\n  // Poll transcription status when transcription is running\n  useEffect(() => {\n    let interval;\n    if (transcriptionStatus.is_running || processing.transcribe) {\n      interval = setInterval(fetchTranscriptionStatus, 2000); // Poll every 2 seconds\n    }\n    return () => {\n      if (interval) clearInterval(interval);\n    };\n  }, [transcriptionStatus.is_running, processing.transcribe]);\n\n  // Poll JSON generation status when JSON generation is running\n  useEffect(() => {\n    let interval;\n    if (jsonGenerationStatus.is_running || processing.json) {\n      interval = setInterval(fetchJsonGenerationStatus, 2000); // Poll every 2 seconds\n    }\n    return () => {\n      if (interval) clearInterval(interval);\n    };\n  }, [jsonGenerationStatus.is_running, processing.json]);\n  const fetchStatus = async () => {\n    try {\n      setLoading(true);\n      const data = await getStatus();\n      setStatus(data);\n\n      // Also fetch transcription status\n      const transcriptionData = await getTranscriptionStatus();\n      setTranscriptionStatus(transcriptionData);\n\n      // Also fetch JSON generation status\n      const jsonGenerationData = await getJsonGenerationStatus();\n      setJsonGenerationStatus(jsonGenerationData);\n      setLoading(false);\n    } catch (error) {\n      console.error('Error fetching status:', error);\n      setLoading(false);\n    }\n  };\n  const fetchTranscriptionStatus = async () => {\n    try {\n      const transcriptionData = await getTranscriptionStatus();\n      setTranscriptionStatus(transcriptionData);\n    } catch (error) {\n      console.error('Error fetching transcription status:', error);\n    }\n  };\n  const fetchJsonGenerationStatus = async () => {\n    try {\n      const jsonGenerationData = await getJsonGenerationStatus();\n      setJsonGenerationStatus(jsonGenerationData);\n    } catch (error) {\n      console.error('Error fetching JSON generation status:', error);\n    }\n  };\n  const handleDownload = async e => {\n    e.preventDefault();\n    if (!videoLinks.trim()) {\n      setMessage('Please enter at least one YouTube URL');\n      return;\n    }\n    try {\n      setProcessing({\n        ...processing,\n        download: true\n      });\n      setMessage('');\n\n      // Parse links from textarea\n      const links = videoLinks.split('\\n').map(link => link.trim()).filter(link => link).map(url => ({\n        url\n      }));\n      console.log('Dashboard sending links:', {\n        links\n      });\n\n      // Make sure we're sending the correct format\n      const response = await downloadVideos({\n        links\n      });\n      console.log('Dashboard received response:', response);\n\n      // Handle the response message\n      setMessage(response.message || 'Videos downloaded successfully');\n      setVideoLinks('');\n\n      // Wait a bit and refresh status\n      setTimeout(fetchStatus, 2000);\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error('Dashboard error:', error);\n      let errorMessage = 'Error downloading videos: ';\n      if ((_error$response = error.response) !== null && _error$response !== void 0 && (_error$response$data = _error$response.data) !== null && _error$response$data !== void 0 && _error$response$data.detail) {\n        // Server returned an error with details\n        errorMessage += error.response.data.detail;\n        console.error('Error details:', error.response.data.detail);\n      } else if (error.message) {\n        // Network or other error with message\n        errorMessage += error.message;\n        console.error('Error message:', error.message);\n      } else {\n        // Fallback error message\n        errorMessage += 'Unknown error occurred';\n      }\n      setMessage(errorMessage);\n    } finally {\n      setProcessing({\n        ...processing,\n        download: false\n      });\n    }\n  };\n  const handleTranscribe = async () => {\n    setProcessing(prev => ({\n      ...prev,\n      transcribe: true\n    }));\n    setMessage('');\n    try {\n      const result = await transcribeVideos();\n      setMessage(result.msg);\n      // Start polling for transcription status\n      fetchTranscriptionStatus();\n      fetchStatus();\n    } catch (error) {\n      var _error$response2, _error$response2$data;\n      setMessage(`Error: ${((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.detail) || error.message}`);\n      setProcessing(prev => ({\n        ...prev,\n        transcribe: false\n      }));\n    }\n  };\n\n  // Update processing state when transcription completes\n  useEffect(() => {\n    if (!transcriptionStatus.is_running && processing.transcribe) {\n      setProcessing(prev => ({\n        ...prev,\n        transcribe: false\n      }));\n      if (transcriptionStatus.error) {\n        setMessage(`Transcription Error: ${transcriptionStatus.error}`);\n      } else if (transcriptionStatus.completed_files > 0) {\n        setMessage(`Transcription completed! Processed ${transcriptionStatus.completed_files} files.`);\n        fetchStatus(); // Refresh overall status\n      }\n    }\n  }, [transcriptionStatus.is_running, processing.transcribe, transcriptionStatus.error, transcriptionStatus.completed_files]);\n\n  // Update processing state when JSON generation completes\n  useEffect(() => {\n    if (!jsonGenerationStatus.is_running && processing.json) {\n      setProcessing(prev => ({\n        ...prev,\n        json: false\n      }));\n      if (jsonGenerationStatus.error) {\n        setMessage(`JSON Generation Error: ${jsonGenerationStatus.error}`);\n      } else if (jsonGenerationStatus.processed_files > 0) {\n        setMessage(`JSON generation completed! Processed ${jsonGenerationStatus.processed_files} files.`);\n        fetchStatus(); // Refresh overall status\n      }\n    }\n  }, [jsonGenerationStatus.is_running, processing.json, jsonGenerationStatus.error, jsonGenerationStatus.processed_files]);\n  const handleGenerateJson = async () => {\n    setProcessing(prev => ({\n      ...prev,\n      json: true\n    }));\n    setMessage('');\n    try {\n      const result = await generateJson();\n      setMessage(result.msg);\n      // Start polling for JSON generation status\n      fetchJsonGenerationStatus();\n      fetchStatus();\n    } catch (error) {\n      var _error$response3, _error$response3$data;\n      setMessage(`Error: ${((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : (_error$response3$data = _error$response3.data) === null || _error$response3$data === void 0 ? void 0 : _error$response3$data.detail) || error.message}`);\n      setProcessing(prev => ({\n        ...prev,\n        json: false\n      }));\n    }\n  };\n  const handleReset = async () => {\n    if (!window.confirm('Are you sure you want to reset all data? This action cannot be undone.')) {\n      return;\n    }\n    try {\n      setProcessing({\n        ...processing,\n        reset: true\n      });\n      setMessage('');\n      const response = await resetData();\n      setMessage(response.msg);\n\n      // Refresh status\n      fetchStatus();\n    } catch (error) {\n      var _error$response4, _error$response4$data;\n      console.error('Error resetting data:', error);\n      setMessage('Error resetting data: ' + (((_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : (_error$response4$data = _error$response4.data) === null || _error$response4$data === void 0 ? void 0 : _error$response4$data.detail) || error.message));\n    } finally {\n      setProcessing({\n        ...processing,\n        reset: false\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 gap-5 sm:grid-cols-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"overflow-hidden rounded-lg bg-white shadow\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-5\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-shrink-0\",\n              children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                className: \"h-6 w-6 text-gray-400\",\n                fill: \"none\",\n                viewBox: \"0 0 24 24\",\n                stroke: \"currentColor\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: 2,\n                  d: \"M9 17V7m0 10a2 2 0 01-2 2H5a2 2 0 01-2-2V7a2 2 0 012-2h2a2 2 0 012 2m0 10a2 2 0 002 2h2a2 2 0 002-2M9 7a2 2 0 012-2h2a2 2 0 012 2m0 10V7m0 10a2 2 0 002 2h2a2 2 0 002-2V7a2 2 0 00-2-2h-2a2 2 0 00-2 2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 240,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 239,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ml-5 w-0 flex-1\",\n              children: /*#__PURE__*/_jsxDEV(\"dl\", {\n                children: [/*#__PURE__*/_jsxDEV(\"dt\", {\n                  className: \"truncate text-sm font-medium text-gray-500\",\n                  children: \"Audio Clips\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 245,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-lg font-medium text-gray-900\",\n                    children: loading ? '...' : status.clips\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 247,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 246,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 244,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"overflow-hidden rounded-lg bg-white shadow\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-5\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-shrink-0\",\n              children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                className: \"h-6 w-6 text-gray-400\",\n                fill: \"none\",\n                viewBox: \"0 0 24 24\",\n                stroke: \"currentColor\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: 2,\n                  d: \"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 260,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 259,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ml-5 w-0 flex-1\",\n              children: /*#__PURE__*/_jsxDEV(\"dl\", {\n                children: [/*#__PURE__*/_jsxDEV(\"dt\", {\n                  className: \"truncate text-sm font-medium text-gray-500\",\n                  children: \"Transcripts\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 265,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-lg font-medium text-gray-900\",\n                    children: loading ? '...' : status.transcripts\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 267,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 266,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 264,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gray-50 px-5 py-3\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm\",\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/transcripts\",\n              className: \"font-medium text-primary-600 hover:text-primary-500\",\n              children: \"View all\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 275,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"overflow-hidden rounded-lg bg-white shadow\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-5\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-shrink-0\",\n              children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                className: \"h-6 w-6 text-gray-400\",\n                fill: \"none\",\n                viewBox: \"0 0 24 24\",\n                stroke: \"currentColor\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: 2,\n                  d: \"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 287,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 286,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ml-5 w-0 flex-1\",\n              children: /*#__PURE__*/_jsxDEV(\"dl\", {\n                children: [/*#__PURE__*/_jsxDEV(\"dt\", {\n                  className: \"truncate text-sm font-medium text-gray-500\",\n                  children: \"JSON Entries\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 292,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-lg font-medium text-gray-900\",\n                    children: loading ? '...' : status.json_exists ? status.json_count : 'Not generated'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 294,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 293,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 291,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 11\n        }, this), status.json_exists && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gray-50 px-5 py-3\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm\",\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/json\",\n              className: \"font-medium text-primary-600 hover:text-primary-500\",\n              children: \"View JSON\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 7\n    }, this), message && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `rounded-md ${message.includes('Error') ? 'bg-red-50' : 'bg-green-50'} p-4`,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-shrink-0\",\n          children: message.includes('Error') ? /*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"h-5 w-5 text-red-400\",\n            viewBox: \"0 0 20 20\",\n            fill: \"currentColor\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              fillRule: \"evenodd\",\n              d: \"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\",\n              clipRule: \"evenodd\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 321,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"h-5 w-5 text-green-400\",\n            viewBox: \"0 0 20 20\",\n            fill: \"currentColor\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              fillRule: \"evenodd\",\n              d: \"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\",\n              clipRule: \"evenodd\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 325,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ml-3\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: `text-sm font-medium ${message.includes('Error') ? 'text-red-800' : 'text-green-800'}`,\n            children: message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white shadow sm:rounded-lg\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"px-4 py-5 sm:p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-medium leading-6 text-gray-900\",\n          children: \"Pipeline Controls\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-2 max-w-xl text-sm text-gray-500\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Run the data pipeline in steps or all at once.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 341,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-5\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"text-md font-medium text-gray-900\",\n            children: \"Step 1: Download YouTube Videos\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleDownload,\n            className: \"mt-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"video-links\",\n                className: \"block text-sm font-medium text-gray-700\",\n                children: \"YouTube URLs (one per line)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 349,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-1\",\n                children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  id: \"video-links\",\n                  name: \"video-links\",\n                  rows: 3,\n                  className: \"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm\",\n                  placeholder: \"https://youtube.com/watch?v=...\",\n                  value: videoLinks,\n                  onChange: e => setVideoLinks(e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 353,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 352,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 348,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              disabled: processing.download,\n              className: \"mt-3 inline-flex items-center rounded-md border border-transparent bg-primary-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:opacity-50\",\n              children: processing.download ? 'Downloading...' : 'Download Videos'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 364,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 347,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-5 border-t border-gray-200 pt-5\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"text-md font-medium text-gray-900\",\n            children: \"Step 2: Transcribe Audio\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: handleTranscribe,\n              disabled: processing.transcribe || status.clips === 0,\n              className: \"inline-flex items-center rounded-md border border-transparent bg-primary-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:opacity-50\",\n              children: processing.transcribe ? 'Transcribing...' : 'Transcribe Audio'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 377,\n              columnNumber: 15\n            }, this), status.clips === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mt-2 text-sm text-gray-500\",\n              children: \"Download videos first before transcribing.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 386,\n              columnNumber: 17\n            }, this), (transcriptionStatus.is_running || processing.transcribe) && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-4 p-4 bg-blue-50 rounded-lg border border-blue-200\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center justify-between mb-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                  className: \"text-sm font-medium text-blue-900\",\n                  children: \"Transcription Progress\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 393,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm text-blue-700\",\n                  children: [transcriptionStatus.completed_files, \" / \", transcriptionStatus.total_files, \" files\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 394,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 392,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-full bg-blue-200 rounded-full h-2 mb-3\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bg-blue-600 h-2 rounded-full transition-all duration-300\",\n                  style: {\n                    width: `${transcriptionStatus.progress}%`\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 401,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 400,\n                columnNumber: 19\n              }, this), transcriptionStatus.current_file && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-blue-800\",\n                children: [\"Currently processing: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-medium\",\n                  children: transcriptionStatus.current_file\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 410,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 409,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-blue-700 mt-1\",\n                children: [Math.round(transcriptionStatus.progress), \"% complete\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 415,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 391,\n              columnNumber: 17\n            }, this), transcriptionStatus.error && !transcriptionStatus.is_running && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-4 p-4 bg-red-50 rounded-lg border border-red-200\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                  className: \"h-5 w-5 text-red-400 mr-2\",\n                  viewBox: \"0 0 20 20\",\n                  fill: \"currentColor\",\n                  children: /*#__PURE__*/_jsxDEV(\"path\", {\n                    fillRule: \"evenodd\",\n                    d: \"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\",\n                    clipRule: \"evenodd\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 426,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 425,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n                  className: \"text-sm font-medium text-red-900\",\n                  children: \"Transcription Error\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 428,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 424,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-red-800 mt-1\",\n                children: transcriptionStatus.error\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 430,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 423,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 376,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-5 border-t border-gray-200 pt-5\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"text-md font-medium text-gray-900\",\n            children: \"Step 3: Generate JSON\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 437,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: handleGenerateJson,\n              disabled: processing.json || status.transcripts === 0,\n              className: \"inline-flex items-center rounded-md border border-transparent bg-primary-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:opacity-50\",\n              children: processing.json ? 'Generating...' : 'Generate JSON'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 439,\n              columnNumber: 15\n            }, this), status.transcripts === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mt-2 text-sm text-gray-500\",\n              children: \"Transcribe audio first before generating JSON.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 448,\n              columnNumber: 17\n            }, this), (jsonGenerationStatus.is_running || processing.json) && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-4 p-4 bg-blue-50 rounded-lg border border-blue-200\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center justify-between mb-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                  className: \"text-sm font-medium text-blue-900\",\n                  children: \"JSON Generation Progress\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 455,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm text-blue-700\",\n                  children: [jsonGenerationStatus.processed_files, \" / \", jsonGenerationStatus.total_files, \" files\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 456,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 454,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-full bg-blue-200 rounded-full h-2 mb-3\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bg-blue-600 h-2 rounded-full transition-all duration-300\",\n                  style: {\n                    width: `${jsonGenerationStatus.progress}%`\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 463,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 462,\n                columnNumber: 19\n              }, this), jsonGenerationStatus.current_step && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-blue-800\",\n                children: [\"Current step: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-medium\",\n                  children: jsonGenerationStatus.current_step\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 472,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 471,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-blue-700 mt-1\",\n                children: [Math.round(jsonGenerationStatus.progress), \"% complete\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 477,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 453,\n              columnNumber: 17\n            }, this), jsonGenerationStatus.error && !jsonGenerationStatus.is_running && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-4 p-4 bg-red-50 rounded-lg border border-red-200\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                  className: \"h-5 w-5 text-red-400 mr-2\",\n                  viewBox: \"0 0 20 20\",\n                  fill: \"currentColor\",\n                  children: /*#__PURE__*/_jsxDEV(\"path\", {\n                    fillRule: \"evenodd\",\n                    d: \"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\",\n                    clipRule: \"evenodd\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 488,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 487,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n                  className: \"text-sm font-medium text-red-900\",\n                  children: \"JSON Generation Error\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 490,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 486,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-red-800 mt-1\",\n                children: jsonGenerationStatus.error\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 492,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 485,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 438,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 436,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-5 border-t border-gray-200 pt-5\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"text-md font-medium text-gray-900\",\n            children: \"Reset Data\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 499,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: handleReset,\n              disabled: processing.reset,\n              className: \"inline-flex items-center rounded-md border border-transparent bg-red-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 disabled:opacity-50\",\n              children: processing.reset ? 'Resetting...' : 'Reset All Data'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 501,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mt-2 text-sm text-gray-500\",\n              children: \"This will delete all downloaded audio, transcripts, and generated JSON files.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 509,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 500,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 498,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 337,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 232,\n    columnNumber: 5\n  }, this);\n}\n_s(Dashboard, \"mH/nuUAiR10ViVPPGmhd/v3j5wc=\");\n_c = Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useState","useEffect","Link","getStatus","downloadVideos","transcribeVideos","generateJson","resetData","getTranscriptionStatus","getJsonGenerationStatus","jsxDEV","_jsxDEV","Dashboard","_s","status","setStatus","clips","transcripts","json_exists","json_count","loading","setLoading","message","setMessage","videoLinks","setVideoLinks","transcriptionStatus","setTranscriptionStatus","is_running","current_file","progress","total_files","completed_files","error","last_updated","jsonGenerationStatus","setJsonGenerationStatus","current_step","processed_files","processing","setProcessing","download","transcribe","json","reset","fetchStatus","interval","setInterval","fetchTranscriptionStatus","clearInterval","fetchJsonGenerationStatus","data","transcriptionData","jsonGenerationData","console","handleDownload","e","preventDefault","trim","links","split","map","link","filter","url","log","response","setTimeout","_error$response","_error$response$data","errorMessage","detail","handleTranscribe","prev","result","msg","_error$response2","_error$response2$data","handleGenerateJson","_error$response3","_error$response3$data","handleReset","window","confirm","_error$response4","_error$response4$data","className","children","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","fileName","_jsxFileName","lineNumber","columnNumber","to","includes","fillRule","clipRule","onSubmit","htmlFor","id","name","rows","placeholder","value","onChange","target","type","disabled","onClick","style","width","Math","round","_c","$RefreshReg$"],"sources":["/data/work/dev/akhi_data_builder/frontend_web/src/pages/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { getStatus, downloadVideos, transcribeVideos, generateJson, resetData, getTranscriptionStatus, getJsonGenerationStatus } from '../services/api';\n\nexport default function Dashboard() {\n  const [status, setStatus] = useState({ clips: 0, transcripts: 0, json_exists: false, json_count: 0 });\n  const [loading, setLoading] = useState(true);\n  const [message, setMessage] = useState('');\n  const [videoLinks, setVideoLinks] = useState('');\n  const [transcriptionStatus, setTranscriptionStatus] = useState({\n    is_running: false,\n    current_file: null,\n    progress: 0,\n    total_files: 0,\n    completed_files: 0,\n    error: null,\n    last_updated: null\n  });\n  const [jsonGenerationStatus, setJsonGenerationStatus] = useState({\n    is_running: false,\n    current_step: null,\n    progress: 0,\n    total_files: 0,\n    processed_files: 0,\n    error: null,\n    last_updated: null\n  });\n  const [processing, setProcessing] = useState({\n    download: false,\n    transcribe: false,\n    json: false,\n    reset: false\n  });\n\n  useEffect(() => {\n    fetchStatus();\n  }, []);\n\n  // Poll transcription status when transcription is running\n  useEffect(() => {\n    let interval;\n    if (transcriptionStatus.is_running || processing.transcribe) {\n      interval = setInterval(fetchTranscriptionStatus, 2000); // Poll every 2 seconds\n    }\n    return () => {\n      if (interval) clearInterval(interval);\n    };\n  }, [transcriptionStatus.is_running, processing.transcribe]);\n\n  // Poll JSON generation status when JSON generation is running\n  useEffect(() => {\n    let interval;\n    if (jsonGenerationStatus.is_running || processing.json) {\n      interval = setInterval(fetchJsonGenerationStatus, 2000); // Poll every 2 seconds\n    }\n    return () => {\n      if (interval) clearInterval(interval);\n    };\n  }, [jsonGenerationStatus.is_running, processing.json]);\n\n  const fetchStatus = async () => {\n    try {\n      setLoading(true);\n      const data = await getStatus();\n      setStatus(data);\n      \n      // Also fetch transcription status\n      const transcriptionData = await getTranscriptionStatus();\n      setTranscriptionStatus(transcriptionData);\n      \n      // Also fetch JSON generation status\n      const jsonGenerationData = await getJsonGenerationStatus();\n      setJsonGenerationStatus(jsonGenerationData);\n      \n      setLoading(false);\n    } catch (error) {\n      console.error('Error fetching status:', error);\n      setLoading(false);\n    }\n  };\n\n  const fetchTranscriptionStatus = async () => {\n    try {\n      const transcriptionData = await getTranscriptionStatus();\n      setTranscriptionStatus(transcriptionData);\n    } catch (error) {\n      console.error('Error fetching transcription status:', error);\n    }\n  };\n\n  const fetchJsonGenerationStatus = async () => {\n    try {\n      const jsonGenerationData = await getJsonGenerationStatus();\n      setJsonGenerationStatus(jsonGenerationData);\n    } catch (error) {\n      console.error('Error fetching JSON generation status:', error);\n    }\n  };\n\n  const handleDownload = async (e) => {\n    e.preventDefault();\n    if (!videoLinks.trim()) {\n      setMessage('Please enter at least one YouTube URL');\n      return;\n    }\n\n    try {\n      setProcessing({ ...processing, download: true });\n      setMessage('');\n      \n      // Parse links from textarea\n      const links = videoLinks\n        .split('\\n')\n        .map(link => link.trim())\n        .filter(link => link)\n        .map(url => ({ url }));\n      \n      console.log('Dashboard sending links:', { links });\n      \n      // Make sure we're sending the correct format\n      const response = await downloadVideos({ links });\n      console.log('Dashboard received response:', response);\n      \n      // Handle the response message\n      setMessage(response.message || 'Videos downloaded successfully');\n      setVideoLinks('');\n      \n      // Wait a bit and refresh status\n      setTimeout(fetchStatus, 2000);\n    } catch (error) {\n      console.error('Dashboard error:', error);\n      let errorMessage = 'Error downloading videos: ';\n      \n      if (error.response?.data?.detail) {\n        // Server returned an error with details\n        errorMessage += error.response.data.detail;\n        console.error('Error details:', error.response.data.detail);\n      } else if (error.message) {\n        // Network or other error with message\n        errorMessage += error.message;\n        console.error('Error message:', error.message);\n      } else {\n        // Fallback error message\n        errorMessage += 'Unknown error occurred';\n      }\n      \n      setMessage(errorMessage);\n    } finally {\n      setProcessing({ ...processing, download: false });\n    }\n  };\n\n  const handleTranscribe = async () => {\n    setProcessing(prev => ({ ...prev, transcribe: true }));\n    setMessage('');\n    try {\n      const result = await transcribeVideos();\n      setMessage(result.msg);\n      // Start polling for transcription status\n      fetchTranscriptionStatus();\n      fetchStatus();\n    } catch (error) {\n      setMessage(`Error: ${error.response?.data?.detail || error.message}`);\n      setProcessing(prev => ({ ...prev, transcribe: false }));\n    }\n  };\n\n  // Update processing state when transcription completes\n  useEffect(() => {\n    if (!transcriptionStatus.is_running && processing.transcribe) {\n      setProcessing(prev => ({ ...prev, transcribe: false }));\n      if (transcriptionStatus.error) {\n        setMessage(`Transcription Error: ${transcriptionStatus.error}`);\n      } else if (transcriptionStatus.completed_files > 0) {\n        setMessage(`Transcription completed! Processed ${transcriptionStatus.completed_files} files.`);\n        fetchStatus(); // Refresh overall status\n      }\n    }\n  }, [transcriptionStatus.is_running, processing.transcribe, transcriptionStatus.error, transcriptionStatus.completed_files]);\n\n  // Update processing state when JSON generation completes\n  useEffect(() => {\n    if (!jsonGenerationStatus.is_running && processing.json) {\n      setProcessing(prev => ({ ...prev, json: false }));\n      if (jsonGenerationStatus.error) {\n        setMessage(`JSON Generation Error: ${jsonGenerationStatus.error}`);\n      } else if (jsonGenerationStatus.processed_files > 0) {\n        setMessage(`JSON generation completed! Processed ${jsonGenerationStatus.processed_files} files.`);\n        fetchStatus(); // Refresh overall status\n      }\n    }\n  }, [jsonGenerationStatus.is_running, processing.json, jsonGenerationStatus.error, jsonGenerationStatus.processed_files]);\n\n  const handleGenerateJson = async () => {\n    setProcessing(prev => ({ ...prev, json: true }));\n    setMessage('');\n    try {\n      const result = await generateJson();\n      setMessage(result.msg);\n      // Start polling for JSON generation status\n      fetchJsonGenerationStatus();\n      fetchStatus();\n    } catch (error) {\n      setMessage(`Error: ${error.response?.data?.detail || error.message}`);\n      setProcessing(prev => ({ ...prev, json: false }));\n    }\n  };\n\n  const handleReset = async () => {\n    if (!window.confirm('Are you sure you want to reset all data? This action cannot be undone.')) {\n      return;\n    }\n    \n    try {\n      setProcessing({ ...processing, reset: true });\n      setMessage('');\n      \n      const response = await resetData();\n      setMessage(response.msg);\n      \n      // Refresh status\n      fetchStatus();\n    } catch (error) {\n      console.error('Error resetting data:', error);\n      setMessage('Error resetting data: ' + (error.response?.data?.detail || error.message));\n    } finally {\n      setProcessing({ ...processing, reset: false });\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Status Cards */}\n      <div className=\"grid grid-cols-1 gap-5 sm:grid-cols-3\">\n        <div className=\"overflow-hidden rounded-lg bg-white shadow\">\n          <div className=\"p-5\">\n            <div className=\"flex items-center\">\n              <div className=\"flex-shrink-0\">\n                <svg className=\"h-6 w-6 text-gray-400\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 17V7m0 10a2 2 0 01-2 2H5a2 2 0 01-2-2V7a2 2 0 012-2h2a2 2 0 012 2m0 10a2 2 0 002 2h2a2 2 0 002-2M9 7a2 2 0 012-2h2a2 2 0 012 2m0 10V7m0 10a2 2 0 002 2h2a2 2 0 002-2V7a2 2 0 00-2-2h-2a2 2 0 00-2 2\" />\n                </svg>\n              </div>\n              <div className=\"ml-5 w-0 flex-1\">\n                <dl>\n                  <dt className=\"truncate text-sm font-medium text-gray-500\">Audio Clips</dt>\n                  <dd>\n                    <div className=\"text-lg font-medium text-gray-900\">{loading ? '...' : status.clips}</div>\n                  </dd>\n                </dl>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"overflow-hidden rounded-lg bg-white shadow\">\n          <div className=\"p-5\">\n            <div className=\"flex items-center\">\n              <div className=\"flex-shrink-0\">\n                <svg className=\"h-6 w-6 text-gray-400\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n                </svg>\n              </div>\n              <div className=\"ml-5 w-0 flex-1\">\n                <dl>\n                  <dt className=\"truncate text-sm font-medium text-gray-500\">Transcripts</dt>\n                  <dd>\n                    <div className=\"text-lg font-medium text-gray-900\">{loading ? '...' : status.transcripts}</div>\n                  </dd>\n                </dl>\n              </div>\n            </div>\n          </div>\n          <div className=\"bg-gray-50 px-5 py-3\">\n            <div className=\"text-sm\">\n              <Link to=\"/transcripts\" className=\"font-medium text-primary-600 hover:text-primary-500\">\n                View all\n              </Link>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"overflow-hidden rounded-lg bg-white shadow\">\n          <div className=\"p-5\">\n            <div className=\"flex items-center\">\n              <div className=\"flex-shrink-0\">\n                <svg className=\"h-6 w-6 text-gray-400\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4\" />\n                </svg>\n              </div>\n              <div className=\"ml-5 w-0 flex-1\">\n                <dl>\n                  <dt className=\"truncate text-sm font-medium text-gray-500\">JSON Entries</dt>\n                  <dd>\n                    <div className=\"text-lg font-medium text-gray-900\">\n                      {loading ? '...' : (status.json_exists ? status.json_count : 'Not generated')}\n                    </div>\n                  </dd>\n                </dl>\n              </div>\n            </div>\n          </div>\n          {status.json_exists && (\n            <div className=\"bg-gray-50 px-5 py-3\">\n              <div className=\"text-sm\">\n                <Link to=\"/json\" className=\"font-medium text-primary-600 hover:text-primary-500\">\n                  View JSON\n                </Link>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Message Alert */}\n      {message && (\n        <div className={`rounded-md ${message.includes('Error') ? 'bg-red-50' : 'bg-green-50'} p-4`}>\n          <div className=\"flex\">\n            <div className=\"flex-shrink-0\">\n              {message.includes('Error') ? (\n                <svg className=\"h-5 w-5 text-red-400\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                  <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\" clipRule=\"evenodd\" />\n                </svg>\n              ) : (\n                <svg className=\"h-5 w-5 text-green-400\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                  <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clipRule=\"evenodd\" />\n                </svg>\n              )}\n            </div>\n            <div className=\"ml-3\">\n              <p className={`text-sm font-medium ${message.includes('Error') ? 'text-red-800' : 'text-green-800'}`}>{message}</p>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Pipeline Controls */}\n      <div className=\"bg-white shadow sm:rounded-lg\">\n        <div className=\"px-4 py-5 sm:p-6\">\n          <h3 className=\"text-lg font-medium leading-6 text-gray-900\">Pipeline Controls</h3>\n          <div className=\"mt-2 max-w-xl text-sm text-gray-500\">\n            <p>Run the data pipeline in steps or all at once.</p>\n          </div>\n          \n          {/* Step 1: Download Videos */}\n          <div className=\"mt-5\">\n            <h4 className=\"text-md font-medium text-gray-900\">Step 1: Download YouTube Videos</h4>\n            <form onSubmit={handleDownload} className=\"mt-3\">\n              <div>\n                <label htmlFor=\"video-links\" className=\"block text-sm font-medium text-gray-700\">\n                  YouTube URLs (one per line)\n                </label>\n                <div className=\"mt-1\">\n                  <textarea\n                    id=\"video-links\"\n                    name=\"video-links\"\n                    rows={3}\n                    className=\"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm\"\n                    placeholder=\"https://youtube.com/watch?v=...\"\n                    value={videoLinks}\n                    onChange={(e) => setVideoLinks(e.target.value)}\n                  />\n                </div>\n              </div>\n              <button\n                type=\"submit\"\n                disabled={processing.download}\n                className=\"mt-3 inline-flex items-center rounded-md border border-transparent bg-primary-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:opacity-50\"\n              >\n                {processing.download ? 'Downloading...' : 'Download Videos'}\n              </button>\n            </form>\n          </div>\n\n          <div className=\"mt-5 border-t border-gray-200 pt-5\">\n            <h4 className=\"text-md font-medium text-gray-900\">Step 2: Transcribe Audio</h4>\n            <div className=\"mt-3\">\n              <button\n                type=\"button\"\n                onClick={handleTranscribe}\n                disabled={processing.transcribe || status.clips === 0}\n                className=\"inline-flex items-center rounded-md border border-transparent bg-primary-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:opacity-50\"\n              >\n                {processing.transcribe ? 'Transcribing...' : 'Transcribe Audio'}\n              </button>\n              {status.clips === 0 && (\n                <p className=\"mt-2 text-sm text-gray-500\">Download videos first before transcribing.</p>\n              )}\n              \n              {/* Transcription Progress Indicator */}\n              {(transcriptionStatus.is_running || processing.transcribe) && (\n                <div className=\"mt-4 p-4 bg-blue-50 rounded-lg border border-blue-200\">\n                  <div className=\"flex items-center justify-between mb-2\">\n                    <h5 className=\"text-sm font-medium text-blue-900\">Transcription Progress</h5>\n                    <span className=\"text-sm text-blue-700\">\n                      {transcriptionStatus.completed_files} / {transcriptionStatus.total_files} files\n                    </span>\n                  </div>\n                  \n                  {/* Progress Bar */}\n                  <div className=\"w-full bg-blue-200 rounded-full h-2 mb-3\">\n                    <div \n                      className=\"bg-blue-600 h-2 rounded-full transition-all duration-300\"\n                      style={{ width: `${transcriptionStatus.progress}%` }}\n                    ></div>\n                  </div>\n                  \n                  {/* Current File */}\n                  {transcriptionStatus.current_file && (\n                    <p className=\"text-sm text-blue-800\">\n                      Currently processing: <span className=\"font-medium\">{transcriptionStatus.current_file}</span>\n                    </p>\n                  )}\n                  \n                  {/* Progress Percentage */}\n                  <p className=\"text-sm text-blue-700 mt-1\">\n                    {Math.round(transcriptionStatus.progress)}% complete\n                  </p>\n                </div>\n              )}\n              \n              {/* Transcription Error */}\n              {transcriptionStatus.error && !transcriptionStatus.is_running && (\n                <div className=\"mt-4 p-4 bg-red-50 rounded-lg border border-red-200\">\n                  <div className=\"flex items-center\">\n                    <svg className=\"h-5 w-5 text-red-400 mr-2\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                      <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\" clipRule=\"evenodd\" />\n                    </svg>\n                    <h5 className=\"text-sm font-medium text-red-900\">Transcription Error</h5>\n                  </div>\n                  <p className=\"text-sm text-red-800 mt-1\">{transcriptionStatus.error}</p>\n                </div>\n              )}\n            </div>\n          </div>\n\n          <div className=\"mt-5 border-t border-gray-200 pt-5\">\n            <h4 className=\"text-md font-medium text-gray-900\">Step 3: Generate JSON</h4>\n            <div className=\"mt-3\">\n              <button\n                type=\"button\"\n                onClick={handleGenerateJson}\n                disabled={processing.json || status.transcripts === 0}\n                className=\"inline-flex items-center rounded-md border border-transparent bg-primary-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:opacity-50\"\n              >\n                {processing.json ? 'Generating...' : 'Generate JSON'}\n              </button>\n              {status.transcripts === 0 && (\n                <p className=\"mt-2 text-sm text-gray-500\">Transcribe audio first before generating JSON.</p>\n              )}\n              \n              {/* JSON Generation Progress Indicator */}\n              {(jsonGenerationStatus.is_running || processing.json) && (\n                <div className=\"mt-4 p-4 bg-blue-50 rounded-lg border border-blue-200\">\n                  <div className=\"flex items-center justify-between mb-2\">\n                    <h5 className=\"text-sm font-medium text-blue-900\">JSON Generation Progress</h5>\n                    <span className=\"text-sm text-blue-700\">\n                      {jsonGenerationStatus.processed_files} / {jsonGenerationStatus.total_files} files\n                    </span>\n                  </div>\n                  \n                  {/* Progress Bar */}\n                  <div className=\"w-full bg-blue-200 rounded-full h-2 mb-3\">\n                    <div \n                      className=\"bg-blue-600 h-2 rounded-full transition-all duration-300\"\n                      style={{ width: `${jsonGenerationStatus.progress}%` }}\n                    ></div>\n                  </div>\n                  \n                  {/* Current Step */}\n                  {jsonGenerationStatus.current_step && (\n                    <p className=\"text-sm text-blue-800\">\n                      Current step: <span className=\"font-medium\">{jsonGenerationStatus.current_step}</span>\n                    </p>\n                  )}\n                  \n                  {/* Progress Percentage */}\n                  <p className=\"text-sm text-blue-700 mt-1\">\n                    {Math.round(jsonGenerationStatus.progress)}% complete\n                  </p>\n                </div>\n              )}\n              \n              {/* JSON Generation Error */}\n              {jsonGenerationStatus.error && !jsonGenerationStatus.is_running && (\n                <div className=\"mt-4 p-4 bg-red-50 rounded-lg border border-red-200\">\n                  <div className=\"flex items-center\">\n                    <svg className=\"h-5 w-5 text-red-400 mr-2\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                      <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\" clipRule=\"evenodd\" />\n                    </svg>\n                    <h5 className=\"text-sm font-medium text-red-900\">JSON Generation Error</h5>\n                  </div>\n                  <p className=\"text-sm text-red-800 mt-1\">{jsonGenerationStatus.error}</p>\n                </div>\n              )}\n            </div>\n          </div>\n\n          <div className=\"mt-5 border-t border-gray-200 pt-5\">\n            <h4 className=\"text-md font-medium text-gray-900\">Reset Data</h4>\n            <div className=\"mt-3\">\n              <button\n                type=\"button\"\n                onClick={handleReset}\n                disabled={processing.reset}\n                className=\"inline-flex items-center rounded-md border border-transparent bg-red-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 disabled:opacity-50\"\n              >\n                {processing.reset ? 'Resetting...' : 'Reset All Data'}\n              </button>\n              <p className=\"mt-2 text-sm text-gray-500\">\n                This will delete all downloaded audio, transcripts, and generated JSON files.\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}